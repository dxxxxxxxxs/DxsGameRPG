{"version":3,"sources":["assets/Scripts/Src/UI/GameRWItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport { AudioManager } from \"../../Framework/Audio/AudioManager\";\nimport Game from \"../../Framework/Game\";\nimport GameConst from \"../GameConst\";\nimport GameModel from \"../Model/GameModel\";\nimport { RWInfo } from \"../Model/RWInfo\";\n\nconst {ccclass, property} = cc._decorator;\nexport enum RWState\n{\n    finish, //任务完成了但是还没有领取奖励\n    go,     //任务没完成\n    done    //任务完成了并且领取奖励了\n}\n\n@ccclass\nexport default class GameRWItem extends cc.Component {\n    @property(cc.Node)\n    icon:cc.Node=null;\n    @property(cc.Label)\n    RWName:cc.Label=null;\n    @property(cc.ProgressBar)\n    Bar:cc.ProgressBar=null;\n    @property(cc.Label)\n    money:cc.Label=null;\n    @property(cc.Node)\n    btnFinish:cc.Node=null;\n    @property(cc.Node)\n    btnGO:cc.Node=null;\n    @property(cc.Node)\n    btnDown:cc.Node=null;\n    private rwState:RWState;\n    private bar:number;\n    init(RWInfo:RWInfo)\n    {\n        //this.icon=RWInfo.Icon;\n        this.RWName.string=RWInfo.RWName;\n        this.money.string=RWInfo.Money.toString();\n        this.bar=RWInfo.RWBar;\n        this.rwState=RWInfo.RWState;\n        this.updateUI();\n    }\n    updateUI()\n    {\n        switch(this.rwState)\n        {\n            case RWState.finish:\n                this.btnFinish.active=true;\n                this.btnGO.active=false;\n                this.btnDown.active=false;\n                break;\n            case RWState.go:\n                this.btnFinish.active=false;\n                this.btnGO.active=true;\n                this.btnDown.active=false;\n                break;\n            case RWState.done:\n                this.btnFinish.active=false;\n                this.btnGO.active=false;\n                this.btnDown.active=true;\n                break;\n        }\n        this.Bar.progress=this.bar;\n    }\n    onFinishBtnClick()\n    {   \n        Game.Audio.playMusic(\"click\");\n        for(let i=0;i<GameModel.RWInfos.length;i++)\n        {\n            if(GameModel.RWInfos[i].RWName==this.RWName.string)\n            {\n                GameModel.RWInfos[i].RWState=RWState.done;\n                break;\n            }\n        }\n        Game.Event.dispatch(GameConst.UI_FinishRW);\n    }\n    onGoBtnClick()\n    {\n\n    }\n}\n"]}