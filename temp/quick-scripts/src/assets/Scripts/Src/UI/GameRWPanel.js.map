{"version":3,"sources":["assets/Scripts/Src/UI/GameRWPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport Game from \"../../Framework/Game\";\nimport GameConst from \"../GameConst\";\nimport GameModel from \"../Model/GameModel\";\nimport { RWInfo } from \"../Model/RWInfo\";\nimport GameOverPanel from \"./GameOverPanel\";\nimport GameRWItem from \"./GameRWItem\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class GameRWPanel extends cc.Component {\n    @property(cc.Node)\n    content:cc.Node=null;\n    @property(cc.Prefab)\n    RWItem:cc.Prefab=null;\n    protected onLoad(): void {\n        this.addEvent();\n        this.initUI();\n    }\n    addEvent()\n    {\n        Game.Event.addEventListener(GameConst.UI_FinishRW,this.updateUI,this);\n    }\n    removeEvent()\n    {\n        Game.Event.removeEventListener(GameConst.UI_FinishRW,this.updateUI,this);  \n    }\n    initUI()\n    {\n        GameModel.RWSort();\n        this.content.height=GameModel.RWInfos.length*90+10;\n        for(let i=0;i<GameModel.RWInfos.length;i++)\n        {\n            this.createOneRWItem(GameModel.RWInfos[i]);\n        }\n    }\n    updateUI(name:string)\n    {\n        //先把之前的删掉，再重新创建（或者后续可以改一下，给item里面加一个设置ui的方法，可以不用删除item）\n        // this,this.content.children.forEach(item=>{\n        //     if(item)\n        //     {\n        //         item.destroy();\n        //     }\n        // })\n        // for(let i=0;i<GameModel.RWInfos.length;i++)\n        // {\n        //     if(RWName==GameModel.RWInfos[i].RWName)\n        //     {\n        //         let rw=GameModel.RWInfos[i];\n        //         GameModel.RWInfos.splice(GameModel.RWInfos.indexOf(GameModel.RWInfos[i]),1);\n        //         GameModel.RWInfos.push(rw);\n        //         break;\n        //     }\n        // }\n        GameModel.RWSort();\n        for(let i=0;i<this.content.children.length;i++)\n        {\n            if(i+1>GameModel.RWInfos.length)\n            {\n                this.content.children[i].destroy();\n            }\n            else\n            {\n                this.content.children[i].getComponent(GameRWItem).init(GameModel.RWInfos[i]);\n            }\n        }\n        \n    }\n    createOneRWItem(RWInfo:RWInfo)\n    {\n        let rwItem=cc.instantiate(this.RWItem);\n        rwItem.setParent(this.content);\n        rwItem.getComponent(GameRWItem).init(RWInfo);\n    }\n    // update (dt) {}\n}\n"]}