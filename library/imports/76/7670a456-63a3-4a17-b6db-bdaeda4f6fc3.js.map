{"version":3,"sources":["assets/Scripts/Src/Game/UIGame.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAEtF,6CAAwC;AACxC,0CAAqC;AACrC,gDAA2C;AAErC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAoC,0BAAY;IAAhD;;IAuCA,CAAC;IArCG,wBAAwB;IACxB,sBAAK,GAAL;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,yBAAQ,GAAR;QAEI,cAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,mBAAS,CAAC,SAAS,EAAC,IAAI,CAAC,SAAS,EAAC,IAAI,CAAC,CAAC;QACrE,cAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,mBAAS,CAAC,YAAY,EAAC,IAAI,CAAC,YAAY,EAAC,IAAI,CAAC,CAAC;QAC3E,cAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,mBAAS,CAAC,cAAc,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,CAAC;IAChF,CAAC;IACD,4BAAW,GAAX;QAEI,cAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,mBAAS,CAAC,SAAS,EAAC,IAAI,CAAC,SAAS,EAAC,IAAI,CAAC,CAAC;QACxE,cAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,mBAAS,CAAC,YAAY,EAAC,IAAI,CAAC,YAAY,EAAC,IAAI,CAAC,CAAC;QAC9E,cAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,mBAAS,CAAC,cAAc,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,CAAC;IAChF,CAAC;IACD,0BAAS,GAAT;QAEI,mBAAS,CAAC,UAAU,GAAC,EAAE,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAC,IAAI,CAAC;IACnD,CAAC;IACD,6BAAY,GAAZ;QAEI,mBAAS,CAAC,UAAU,EAAE,CAAC;QACvB,IAAG,mBAAS,CAAC,UAAU,IAAE,CAAC,EAC1B;YACI,cAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,mBAAS,CAAC,WAAW,CAAC,CAAC;SAC9C;IACL,CAAC;IACD,4BAAW,GAAX;QAEI,mBAAS,CAAC,OAAO,GAAC,CAAC,mBAAS,CAAC,OAAO,CAAC;IACzC,CAAC;IACS,0BAAS,GAAnB;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAtCgB,MAAM;QAD1B,OAAO;OACa,MAAM,CAuC1B;IAAD,aAAC;CAvCD,AAuCC,CAvCmC,EAAE,CAAC,SAAS,GAuC/C;kBAvCoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport Game from \"../../Framework/Game\";\nimport GameConst from \"../GameConst\";\nimport GameModel from \"../Model/GameModel\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class UIGame extends cc.Component {\n\n    // LIFE-CYCLE CALLBACKS:\n    start () {\n        this.addEvent();\n    }\n    \n    addEvent()\n    {\n        Game.Event.addEventListener(GameConst.GameStart,this.GameStart,this);\n        Game.Event.addEventListener(GameConst.KillOneCount,this.killOneEnemy,this);\n        Game.Event.addEventListener(GameConst.UI_UpdateMusic,this.updateMusic,this);\n    }\n    removeEvent()\n    {\n        Game.Event.removeEventListener(GameConst.GameStart,this.GameStart,this);\n        Game.Event.removeEventListener(GameConst.KillOneCount,this.killOneEnemy,this);\n        Game.Event.addEventListener(GameConst.UI_UpdateMusic,this.updateMusic,this);\n    }\n    GameStart()\n    {\n        GameModel.EnemyCount=10;\n        this.node.getChildByName(\"Enemys\").active=true;\n    }\n    killOneEnemy()\n    {\n        GameModel.EnemyCount--;\n        if(GameModel.EnemyCount<=0)\n        {\n            Game.Event.dispatch(GameConst.UI_GameOver);\n        }\n    }\n    updateMusic()\n    {\n        GameModel.isMusic=!GameModel.isMusic;\n    }\n    protected onDestroy(): void {\n        this.removeEvent();\n    }\n}\n"]}